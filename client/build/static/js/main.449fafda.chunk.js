(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{34:function(e,t,a){e.exports=a(66)},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(14),s=a.n(c),u=a(12),i=a(11),o=a(4),l=a(16),d=a(31),m=a.n(d)()(),h={changeName:m("CHANGE_NAME"),changeAge:m("CHANGE_AGE"),initializeForm:m("INITIALIZE_FORM"),postForm:m.async("POST_FORM")},f={getCharacters:m.async("GET_CHARACTERS"),updateCharacters:m.async("UPDATE_CHARACTERS"),deleteCharacters:m.async("DELETE_CHARACTERS")},b=Object(l.reducerWithInitialState)({name:"",age:""}).case(h.changeName,(function(e,t){return Object(o.a)(Object(o.a)({},e),{},{name:t})})).case(h.changeAge,(function(e,t){return Object(o.a)(Object(o.a)({},e),{},{age:t})})).case(h.initializeForm,(function(e){return Object(o.a)(Object(o.a)({},e),{},{name:"",age:""})})).case(h.postForm.started,(function(e){return Object(o.a)({},e)})).case(h.postForm.done,(function(e){return Object(o.a)({},e)})).case(h.postForm.failed,(function(e){return Object(o.a)({},e)})),p=Object(l.reducerWithInitialState)({isFetching:!1,characterArray:[]}).case(f.getCharacters.started,(function(e){return Object(o.a)(Object(o.a)({},e),{},{isFetching:!0})})).case(f.getCharacters.done,(function(e,t){return Object(o.a)(Object(o.a)({},e),{},{isFetching:!1,characterArray:t.result})})).case(f.getCharacters.failed,(function(e){return Object(o.a)(Object(o.a)({},e),{},{isFetching:!1})})).case(f.updateCharacters.started,(function(e){return Object(o.a)({},e)})).case(f.updateCharacters.done,(function(e,t){return Object(o.a)(Object(o.a)({},e),{},{characterArray:t.result})})).case(f.updateCharacters.failed,(function(e){return Object(o.a)({},e)})).case(f.deleteCharacters.started,(function(e){return Object(o.a)({},e)})).case(f.deleteCharacters.done,(function(e,t){return Object(o.a)(Object(o.a)({},e),{},{characterArray:t.result})})).case(f.deleteCharacters.failed,(function(e){return Object(o.a)({},e)})),O=a(32),g=a(33),j=a(7),C=a.n(j),E=a(13),A=a(5),v=a(10),_=a.n(v),x=C.a.mark(y),F=function(e,t,a){return e.preventDefault(),_.a.post("/api/characters",{name:t,age:a}).then((function(r){return{characterArray:r.data,e:e,name:t,age:a}})).catch((function(e){return{error:e}}))};function y(e){var t,a,r,n,c,s;return C.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Object(A.b)(F,e.payload.e,e.payload.name,e.payload.age);case 2:if(t=u.sent,a=t.characterArray,r=t.e,n=t.name,c=t.age,s=t.error,!(a&&r&&n&&c)){u.next=17;break}return u.next=11,Object(A.c)(h.postForm.done({params:{},result:a}));case 11:return u.next=13,Object(A.c)(f.getCharacters.done({params:{},result:a}));case 13:return u.next=15,Object(A.c)(h.initializeForm());case 15:u.next=19;break;case 17:return u.next=19,Object(A.c)(h.postForm.failed({params:{},error:s}));case 19:case"end":return u.stop()}}),x)}var N=[Object(A.d)(h.postForm.started,y)],k=C.a.mark(L),w=function(){return _.a.get("/api/characters").then((function(e){return{characterArray:e.data}})).catch((function(e){return{error:e}}))};function L(){var e,t,a;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(A.b)(w);case 2:if(e=r.sent,t=e.characterArray,a=e.error,!t){r.next=10;break}return r.next=8,Object(A.c)(f.getCharacters.done({params:{},result:t}));case 8:r.next=12;break;case 10:return r.next=12,Object(A.c)(f.getCharacters.failed({params:{},error:a}));case 12:case"end":return r.stop()}}),k)}var I=[Object(A.d)(f.getCharacters.started,L)],R=C.a.mark(T),S=function(e){return _.a.put("/api/characters",{id:e}).then((function(t){return{characterArray:t.data,id:e}})).catch((function(e){return{error:e}}))};function T(e){var t,a,r,n;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(A.b)(S,e.payload.id);case 2:if(t=c.sent,a=t.characterArray,r=t.id,n=t.error,!a||!r){c.next=11;break}return c.next=9,Object(A.c)(f.updateCharacters.done({params:{},result:a}));case 9:c.next=13;break;case 11:return c.next=13,Object(A.c)(f.updateCharacters.failed({params:{},error:n}));case 13:case"end":return c.stop()}}),R)}var z=[Object(A.d)(f.updateCharacters.started,T)],H=C.a.mark(G),B=function(e){return _()({method:"delete",url:"/api/characters",data:{id:e}}).then((function(t){return{characterArray:t.data,id:e}})).catch((function(e){return{error:e}}))};function G(e){var t,a,r,n;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(A.b)(B,e.payload.id);case 2:if(t=c.sent,a=t.characterArray,r=t.id,n=t.error,!a||!r){c.next=11;break}return c.next=9,Object(A.c)(f.deleteCharacters.done({params:{},result:a}));case 9:c.next=13;break;case 11:return c.next=13,Object(A.c)(f.deleteCharacters.failed({params:{},error:n}));case 13:case"end":return c.stop()}}),H)}var M=[Object(A.d)(f.deleteCharacters.started,G)],W=C.a.mark(D);function D(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.a)([].concat(Object(E.a)(N),Object(E.a)(I),Object(E.a)(z),Object(E.a)(M)));case 2:case"end":return e.stop()}}),W)}var J=Object(g.a)(),P=Object(O.createLogger)({diff:!0,collapsed:!0}),U=Object(i.e)(Object(i.c)({form:b,character:p}),{},Object(i.a)(J,P));J.run(D);var Z=U,$=(a(62),function(e){var t=e.name,a=e.age;return n.a.createElement("div",{className:"AddForm"},n.a.createElement("h2",{className:"AddForm__title"},"\u30d5\u30a9\u30fc\u30e0"),n.a.createElement("form",{onSubmit:function(r){return e.postForm(r,t,a)}},n.a.createElement("input",{className:"AddForm__input",placeholder:"\u540d\u524d",value:t,onChange:function(t){return e.changeName(t.target.value)}}),n.a.createElement("input",{className:"AddForm__input",placeholder:"\u5e74\u9f62",value:a,onChange:function(t){return e.changeAge(t.target.value)}}),n.a.createElement("button",{className:"AddForm__submit",type:"submit"},"\u9001\u4fe1")))}),q=Object(u.b)((function(e){return Object(o.a)({},e.form)}),(function(e){return{changeName:function(t){return e(h.changeName(t))},changeAge:function(t){return e(h.changeAge(t))},initializeForm:function(){return e(h.initializeForm())},postForm:function(t,a,r){return e(h.postForm.started({params:{},e:t,name:a,age:r}))}}}))($),K=(a(63),function(e){return Object(r.useEffect)((function(){e.getCharacters()}),[]),n.a.createElement("div",{className:"CharacterList"},e.isFetching?n.a.createElement("h2",null,"Now Loading..."):n.a.createElement("div",null,n.a.createElement("h2",{className:"CharacterList__title"},"\u30ea\u30b9\u30c8"),n.a.createElement("ul",{className:"CharacterList__list"},e.characterArray.map((function(t){return n.a.createElement("li",{key:t._id,className:"CharacterList__listItem"},"".concat(t.name," (").concat(t.age,")"),n.a.createElement("div",{className:"CharacterList__listArea"},n.a.createElement("button",{className:"CharacterList__listButton",onClick:function(){return e.updateCharacters(t._id)}},n.a.createElement("i",{className:"gg-edit-markup"})),n.a.createElement("button",{className:"CharacterList__listButton",onClick:function(){return e.deleteCharacters(t._id)}},n.a.createElement("i",{className:"gg-trash"}))))})))))}),Q=Object(u.b)((function(e){return Object(o.a)({},e.character)}),(function(e){return{getCharacters:function(){return e(f.getCharacters.started({params:{}}))},updateCharacters:function(t){return e(f.updateCharacters.started({params:{},id:t}))},deleteCharacters:function(t){return e(f.deleteCharacters.started({params:{},id:t}))}}}))(K),V=(a(64),function(){return n.a.createElement("div",{className:"App"},n.a.createElement(q,null),n.a.createElement(Q,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(65);s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(u.a,{store:Z},n.a.createElement(V,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.449fafda.chunk.js.map