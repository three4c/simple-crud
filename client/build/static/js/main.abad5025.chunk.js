(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{34:function(e,t,r){e.exports=r(62)},62:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),c=r(14),u=r.n(c),o=r(12),s=r(11),i=r(4),l=r(16),d=r(31),h=r.n(d)()(),f={changeName:h("CHANGE_NAME"),changeAge:h("CHANGE_AGE"),initializeForm:h("INITIALIZE_FORM"),postForm:h.async("POST_FORM")},m={getCharacters:h.async("GET_CHARACTERS"),updateCharacters:h.async("UPDATE_CHARACTERS"),deleteCharacters:h.async("DELETE_CHARACTERS")},b=Object(l.reducerWithInitialState)({name:"",age:""}).case(f.changeName,(function(e,t){return Object(i.a)(Object(i.a)({},e),{},{name:t})})).case(f.changeAge,(function(e,t){return Object(i.a)(Object(i.a)({},e),{},{age:t})})).case(f.initializeForm,(function(e){return Object(i.a)(Object(i.a)({},e),{},{name:"",age:""})})).case(f.postForm.started,(function(e){return Object(i.a)({},e)})).case(f.postForm.done,(function(e){return Object(i.a)({},e)})).case(f.postForm.failed,(function(e){return Object(i.a)({},e)})),p=Object(l.reducerWithInitialState)({isFetching:!1,characterArray:[]}).case(m.getCharacters.started,(function(e){return Object(i.a)(Object(i.a)({},e),{},{isFetching:!0})})).case(m.getCharacters.done,(function(e,t){return Object(i.a)(Object(i.a)({},e),{},{isFetching:!1,characterArray:t.result})})).case(m.getCharacters.failed,(function(e){return Object(i.a)(Object(i.a)({},e),{},{isFetching:!1})})).case(m.updateCharacters.started,(function(e){return Object(i.a)({},e)})).case(m.updateCharacters.done,(function(e,t){return Object(i.a)(Object(i.a)({},e),{},{characterArray:t.result})})).case(m.updateCharacters.failed,(function(e){return Object(i.a)({},e)})).case(m.deleteCharacters.started,(function(e){return Object(i.a)({},e)})).case(m.deleteCharacters.done,(function(e,t){return Object(i.a)(Object(i.a)({},e),{},{characterArray:t.result})})).case(m.deleteCharacters.failed,(function(e){return Object(i.a)({},e)})),O=r(32),j=r(33),g=r(7),C=r.n(g),E=r(13),v=r(5),A=r(10),x=r.n(A),y=C.a.mark(k),F=function(e,t,r){return e.preventDefault(),x.a.post("/api/characters",{name:t,age:r}).then((function(a){return{characterArray:a.data,e:e,name:t,age:r}})).catch((function(e){return{error:e}}))};function k(e){var t,r,a,n,c,u;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(v.b)(F,e.payload.e,e.payload.name,e.payload.age);case 2:if(t=o.sent,r=t.characterArray,a=t.e,n=t.name,c=t.age,u=t.error,!(r&&a&&n&&c)){o.next=17;break}return o.next=11,Object(v.c)(f.postForm.done({params:{},result:r}));case 11:return o.next=13,Object(v.c)(m.getCharacters.done({params:{},result:r}));case 13:return o.next=15,Object(v.c)(f.initializeForm());case 15:o.next=19;break;case 17:return o.next=19,Object(v.c)(f.postForm.failed({params:{},error:u}));case 19:case"end":return o.stop()}}),y)}var w=[Object(v.d)(f.postForm.started,k)],N=C.a.mark(R),_=function(){return x.a.get("/api/characters").then((function(e){return{characterArray:e.data}})).catch((function(e){return{error:e}}))};function R(){var e,t,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(v.b)(_);case 2:if(e=a.sent,t=e.characterArray,r=e.error,!t){a.next=10;break}return a.next=8,Object(v.c)(m.getCharacters.done({params:{},result:t}));case 8:a.next=12;break;case 10:return a.next=12,Object(v.c)(m.getCharacters.failed({params:{},error:r}));case 12:case"end":return a.stop()}}),N)}var S=[Object(v.d)(m.getCharacters.started,R)],T=C.a.mark(z),I=function(e){return x.a.put("/api/characters",{id:e}).then((function(t){return{characterArray:t.data,id:e}})).catch((function(e){return{error:e}}))};function z(e){var t,r,a,n;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(v.b)(I,e.payload.id);case 2:if(t=c.sent,r=t.characterArray,a=t.id,n=t.error,!r||!a){c.next=11;break}return c.next=9,Object(v.c)(m.updateCharacters.done({params:{},result:r}));case 9:c.next=13;break;case 11:return c.next=13,Object(v.c)(m.updateCharacters.failed({params:{},error:n}));case 13:case"end":return c.stop()}}),T)}var H=[Object(v.d)(m.updateCharacters.started,z)],G=C.a.mark(M),L=function(e){return x()({method:"delete",url:"/api/characters",data:{id:e}}).then((function(t){return{characterArray:t.data,id:e}})).catch((function(e){return{error:e}}))};function M(e){var t,r,a,n;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(v.b)(L,e.payload.id);case 2:if(t=c.sent,r=t.characterArray,a=t.id,n=t.error,!r||!a){c.next=11;break}return c.next=9,Object(v.c)(m.deleteCharacters.done({params:{},result:r}));case 9:c.next=13;break;case 11:return c.next=13,Object(v.c)(m.deleteCharacters.failed({params:{},error:n}));case 13:case"end":return c.stop()}}),G)}var W=[Object(v.d)(m.deleteCharacters.started,M)],D=C.a.mark(B);function B(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.a)([].concat(Object(E.a)(w),Object(E.a)(S),Object(E.a)(H),Object(E.a)(W)));case 2:case"end":return e.stop()}}),D)}var J=Object(j.a)(),P=Object(O.createLogger)({diff:!0,collapsed:!0}),U=Object(s.e)(Object(s.c)({form:b,character:p}),{},Object(s.a)(J,P));J.run(B);var Z=U,$=function(e){var t=e.name,r=e.age;return n.a.createElement("div",null,n.a.createElement("form",{onSubmit:function(a){return e.postForm(a,t,r)}},n.a.createElement("label",null,"\u540d\u524d:",n.a.createElement("input",{value:t,onChange:function(t){return e.changeName(t.target.value)}})),n.a.createElement("label",null,"\u5e74\u9f62:",n.a.createElement("input",{value:r,onChange:function(t){return e.changeAge(t.target.value)}})),n.a.createElement("button",{type:"submit"},"submit")))},q=Object(o.b)((function(e){return Object(i.a)({},e.form)}),(function(e){return{changeName:function(t){return e(f.changeName(t))},changeAge:function(t){return e(f.changeAge(t))},initializeForm:function(){return e(f.initializeForm())},postForm:function(t,r,a){return e(f.postForm.started({params:{},e:t,name:r,age:a}))}}}))($),K=function(e){return n.a.createElement("div",null,e.isFetching?n.a.createElement("h2",null,"Now Loading..."):n.a.createElement("div",null,n.a.createElement("button",{onClick:function(){return e.getCharacters()}},"fetch data"),n.a.createElement("ul",null,e.characterArray.map((function(t){return n.a.createElement("li",{key:t._id},"".concat(t.name," (").concat(t.age,")"),n.a.createElement("button",{onClick:function(){return e.updateCharacters(t._id)}},"+1"),n.a.createElement("button",{onClick:function(){return e.deleteCharacters(t._id)}},"delete"))})))))},Q=Object(o.b)((function(e){return Object(i.a)({},e.character)}),(function(e){return{getCharacters:function(){return e(m.getCharacters.started({params:{}}))},updateCharacters:function(t){return e(m.updateCharacters.started({params:{},id:t}))},deleteCharacters:function(t){return e(m.deleteCharacters.started({params:{},id:t}))}}}))(K),V=function(){return n.a.createElement("div",null,n.a.createElement(q,null),n.a.createElement(Q,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(o.a,{store:Z},n.a.createElement(V,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.abad5025.chunk.js.map